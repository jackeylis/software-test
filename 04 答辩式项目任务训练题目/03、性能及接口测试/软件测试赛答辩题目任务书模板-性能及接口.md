# 软件测试赛答辩题目任务书

任务题目：性能及接口测试题

指导老师：莫彩芳

集训小组：

## 一、任务的意义

1 学会使用Loadrunner、jMeter进行性能测试

2 学会使用Postman进行接口测试



## 二、任务的内容

### **（一）、性能测试及接口测试的地址及账号信息**

1 仓库管理系统地址：
http://124.221.224.47:8084/

2 账号密码：
administrator
administrator123

### **（二）、执行性能测试**

**第一题：使用性能测试工具LoadRunner执行性能测试**

本部分按照软件性能测试任务书要求，执行性能测试；使用性能测试工具LoadRunner和JMeter，录制脚本、回放脚本、配置参数、设置场景、执行性能测试并且截图。截图需粘贴在性能测试报告中。性能测试具体要求如下：

1、脚本录制：录制脚本协议选择“Web-HTTP/HTML”。录制两份脚本:

录制仓库管理员登录、入库管理查询、退出操作。录制完成后脚本名称命名为C_RK。录制脚本具体要求如下:

（1） 仓库管理员登录操作录制在init；入库管理查询操作录制在Action；退出操作录制在end。

（2）Action录制入库管理查询，对入库管理查询操作设置事务。事务名称：T_RK。

（3） 截图要求：一共1张图：①Action中进行入库管理查询操作部分截图，包括事务。

2、录制完成脚本回放：脚本录制完成后使用回放功能对脚本的正确性进行校验。

脚本回放具体要求如下：

（1） 回放操作完成，查看Loadrunner回放日志。

（2） 截图要求：一共2张图：①回放入库管理脚本截图；②入库管理回放概要（Replay Summary）图。

3、脚本参数设置要求：脚本回放成功后可继续进行下面的操作。先对资产名称进行参数化设置。脚本参数设置要求如下：

（1）对查询的时间进行参数化，参数化的值自己选取，要求开始时间小于结束时间。

（2）截图要求：一共2张图，分别为：①入库查询字段参数化截图；②dat文件截图

4、场景设置：按照要求设置虚拟用户个数以及进行场景配置，配置要求如下：

（1）脚本修改：入库查询事务脚本前添加思考时间，思考时间设置为10；入库查询运行时设置中设置思考时间选择“Use random percentage of recorded think time”，最小值设置为1，最大值设置为200；

（2） 选择入库查询脚本进行场景设置。

（3）入库查询设置虚拟用户数量为5。

（4） 场景名称S_RK，场景策略：

（5） 入库查询场景配置：场景开始立即执行，虚拟用户运行前初始化，每隔5秒加载5个虚拟用户，结束选择运行完成结束。

（6）截图要求：一共4张图，分别为：

​	①入库查询思考时间脚本及思考时间设置配置截图；

​	②入库查询业务虚拟用户数量截图；

​	③入库查询场景设置策略和交互计划图截图；

​	④场景执行完成后Run界面截图，包括运行结果。

5、图形结果分析：场景执行完成后，需对测试结果进行截图操作，需要截图的图表要求如下：

（1）截图要求：所有的截图需截取完整的结果图，包含下方的说明和左侧的树形结构。

（2）截图要求：一共5张图，分别为：

​	1）Summary Report

​	2）Running Vusers

​	3）Hit per Second

​	4）Throughput

​	5）Transaction Summary



**第二题：使用性能测试工具JMeter执行性能测试**

1 JMeter语言配置：JMeter必须设置选择中文，设置菜单路径Options-->Choose Language-->Chinses(Simplified)。设置后JMeter界面显示为中文。

2 脚本添加：脚本文件名称：C_Login。测试计划下添加脚本：

操作内容：仓库管理员登录、退出操作。脚本名称命名为C_Login。脚本具体要求如下:

（1）登录操作，名称设置为：登录。

（2） 退出操作，名称设置为：退出。

（3）HTTP请求Body中若带有参数，必须选择参数上传方式。

（4）对登录操作设置集合点和事务。集合点名称：R_login；事务名称：T_login；登录成功后设置检查点，使用首页资产管理员登录名作为检查点，检查是否登录成功。

（5）截图要求：一共4张图：①登录操作截图；②集合点截图；③事务截图；④检查点截图。

3 脚本回放：对脚本的正确性进行校验。

仓库管理员登录，脚本回放要求如下：

（1）回放需要对脚本参数进行修改。用CSV数据文件设置实现参数化。参数化文件User.dat，文件中含用户名（userName）和密码（passWord）两个参数字段，第一列为用户名（userName）值，第二列为密码（passWord）值，中间以逗号分隔；用户名密码为仓库管理员的用户名和密码信息。

（2） 登录用户名、密码和检查点进行参数化设置，用户名参数名称：userName，密码参数名称：passWord，检查点参数名称：userName，均使用User.dat参数化文件进行参数设置。

（3） 回放迭代次数设置3次，执行回放操作。

（4）截图要求：一共5张图：①引用的CSV数据文件截图；②CSV数据文件设置截图；③登录参数化截图；④检查点参数化截图；⑤迭代次数截图。

4 场景设置：按照要求设置虚拟用户个数以及进行场景配置，配置要求如下：

（1）登录场景设置虚拟用户数量10。

（2）登录设置集合点，选择设置5个虚拟用户到达集合点时释放，超时时间25秒。

（3）登录场景策略：取样器错误后继续执行；20秒启动全部虚拟用户，执行时间6分钟，启动延迟5秒。

（4）使用非GUI模式运行。

（5） 截图要求：一共3张图，分别为：①登录场景设计截图；②登录集合点设置截图；③非GUI运行界面截图。

5 图形结果分析：场景执行完成后，需对测试结果进行截图操作，需要截图的图表要求如下：

 截图要求：一共2张图，分别为：①Dashboard-Statistics截图；②Transactions Per Second截图。

注意：性能测试过程中，出现录制失败、回放失败、脚本执行失败、白屏、500错等情况，属于性能测试工具操作或配置错误，请重新调试；

6 性能测试报告编写

根据性能测试情况，参考性能测试报告模版，按要求截取性能测试过程和结果截图并粘贴到性能测试报告，完成性能测试报告的编写。

### **（三）、执行接口测试**

1 概述

按照软件接口测试文档要求，执行接口测试；使用接口测试工具PostMan，编写脚本、配置参数、执行接口，对设计过程及测试结果进行界面截图并粘贴到接口测试报告中。

2 题目要求

部门信息查询接口脚本编写和执行测试

（1）部门信息查询接口描述如下

​	1）接口功能：查询部门的信息，根据部门名称或编号，去筛选不同的数据

​	2） 接口地址：

​			 http://124.221.224.47:8084/DepartAjax/DepartList

​	3）请求方式：POST

​	4）请求参数：

| 参数       | 必填  | 类型   | 说明                              |
| ---------- | ----- | ------ | --------------------------------- |
| PageIndex  | true  | string | 默认第1页                         |
| PageSize   | true  | string | 默认每页显示10行                  |
| departName | false | string | 部门名称或部门编号 ，支持模糊查询 |

​	5）响应结果：

​	有数据则返回数据列表，没有数据则在列表第一行显示“没有数据”

（2）接口测试要求说明：

​	1）在Postman中新建Collections集，测试集命名为Data_Provider;

​	2）在测试集Data_Provider下新建“部门查询”脚本；

​	3）使用csv文件保存接口数据驱动测试数据，csv参数名为PageIndex、PageSize，departName；对应数值可参考自己写出的测试用例。

​	4）选择测试用例集Data_Provider，执行Run，在测试集合运行页面设置执行要求，运行次数要求3次，请求间隔时间为1000ms，发送请求的data文件导入前面的新建csv数据文件。

​	5）设置完成执行测试用例集。

​	截图要求：一共5张图，分别为：①测试用例脚本包含Collections的名称和设置参数化后的URL和Params相关内容截图；②测试用例集导入数据后预览数据的截图；③分别截图三条用例的测试报告中Response Body内容。





## 三、任务成果

根据任务书要求，完成任务实现并填写任务实验报告。



## 四、参考文献

1 参考理论教材中，性能测试及接口测试相关知识点

链接：https://pan.baidu.com/s/1IgFd8NERaJQ_iwqX_G8iSA 
提取码：test 

2 参考视频教材中，性能测试及接口测试相关知识点

链接：https://pan.baidu.com/s/1UrXySbyYGXg7wHnvaF19lA 
提取码：test 

3 找以下位置的性能测试和接口测试的所有相关文档

![image-20221104110639016](%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%B5%9B%E7%AD%94%E8%BE%A9%E9%A2%98%E7%9B%AE%E4%BB%BB%E5%8A%A1%E4%B9%A6%E6%A8%A1%E6%9D%BF-%E6%80%A7%E8%83%BD%E5%8F%8A%E6%8E%A5%E5%8F%A3.assets/image-20221104110639016.png)

![image-20221104110705922](%E8%BD%AF%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%B5%9B%E7%AD%94%E8%BE%A9%E9%A2%98%E7%9B%AE%E4%BB%BB%E5%8A%A1%E4%B9%A6%E6%A8%A1%E6%9D%BF-%E6%80%A7%E8%83%BD%E5%8F%8A%E6%8E%A5%E5%8F%A3.assets/image-20221104110705922.png)





